# ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° "Ğ˜Ğ¿Ğ¾Ñ‚ĞµĞºĞ° ĞšÑ€Ñ‹Ğ¼"

## ğŸ“ ĞĞ±Ñ‰Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞ¢Ğ•Ğ›Ğ¬                              â”‚
â”‚                   (Ğ‘Ñ€Ğ°ÑƒĞ·ĞµÑ€ / ĞœĞ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  FRONTEND (React SPA)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  React 18 + TypeScript + Vite + Tailwind CSS         â”‚  â”‚
â”‚  â”‚                                                        â”‚  â”‚
â”‚  â”‚  ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹:                                          â”‚  â”‚
â”‚  â”‚  â€¢ HomeTab (Ğ³Ğ»Ğ°Ğ²Ğ½Ğ°Ñ)                                  â”‚  â”‚
â”‚  â”‚  â€¢ RegionsMapSection (ĞºĞ°Ñ€Ñ‚Ğ° ĞšÑ€Ñ‹Ğ¼Ğ°)                    â”‚  â”‚
â”‚  â”‚  â€¢ MortgageCalculator (ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€)                   â”‚  â”‚
â”‚  â”‚  â€¢ MortgageQuiz (ĞºĞ²Ğ¸Ğ·)                                â”‚  â”‚
â”‚  â”‚  â€¢ ApplicationForm (Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ·Ğ°ÑĞ²ĞºĞ¸)                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                         â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Ğ¡Ğ•Ğ Ğ’Ğ˜Ğ¡Ğ« (Services)                           â”‚  â”‚
â”‚  â”‚  â€¢ metrika-goals.ts (Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°)                      â”‚  â”‚
â”‚  â”‚  â€¢ indexnow.ts (Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ)                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                  â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Ğ¯Ğ½Ğ´ĞµĞºÑ.ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ° â”‚  â”‚  Backend API   â”‚
      â”‚   (Analytics)   â”‚  â”‚ (Cloud Funcs)  â”‚
      â”‚                 â”‚  â”‚                â”‚
      â”‚  ID: 105974763  â”‚  â”‚  Python 3.11   â”‚
      â”‚                 â”‚  â”‚  Serverless    â”‚
      â”‚  12 Goals       â”‚  â”‚                â”‚
      â”‚  WebVisor       â”‚  â”‚  /telegram-    â”‚
      â”‚  ClickMap       â”‚  â”‚   notification â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   Telegram Bot API   â”‚
                         â”‚                      â”‚
                         â”‚  ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ·Ğ°ÑĞ²Ğ¾Ğº Ğ²   â”‚
                         â”‚  Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ñ‡Ğ°Ñ‚          â”‚
                         â”‚                      â”‚
                         â”‚  â€¢ Ğ˜Ğ¼Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°       â”‚
                         â”‚  â€¢ Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½ (copyable)â”‚
                         â”‚  â€¢ Ğ“Ğ¾Ñ€Ğ¾Ğ´             â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ— Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Frontend

```
src/
â”‚
â”œâ”€â”€ components/
â”‚   â”‚
â”‚   â”œâ”€â”€ home/                          # ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ HeroSection.tsx            # Hero Ñ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ¸ CTA
â”‚   â”‚   â”‚   â””â”€â”€ [Props: video]
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ AdvantagesSection.tsx      # ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Ğ¸ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹
â”‚   â”‚   â”‚   â””â”€â”€ [4 ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ğ¿Ñ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²]
â”‚   â”‚   â”‚   â””â”€â”€ [3 ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼]
â”‚   â”‚   â”‚   â””â”€â”€ [ĞœĞµĞ¶Ñ€ĞµĞ³Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑĞ´ĞµĞ»ĞºĞ¸]
â”‚   â”‚   â”‚   â””â”€â”€ [Ğ¡Ñ…ĞµĞ¼Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹]
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ RegionsMapSection.tsx      # Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ ĞºĞ°Ñ€Ñ‚Ñ‹
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ State Management:
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ selectedCity
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ showForm
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ formData
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ searchQuery
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ filterType
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ Handlers:
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ handleCityClick()
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ handleSubmit()
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ Sub-components:
â”‚   â”‚   â”‚       â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ CityFilterAndSearch.tsx
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ [3 Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°: Ğ²ÑĞµ/Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°/ĞŸĞ“Ğ¢]
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ [Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ° Ğ¿Ğ¾Ğ¸ÑĞºĞ°]
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ [Dropdown Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²]
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ [Ğ¢Ñ€ĞµĞºĞ¸Ğ½Ğ³: filter_changed, search_used]
â”‚   â”‚   â”‚       â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ CrimeaMapSVG.tsx
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ [SVG ĞºĞ°Ñ€Ñ‚Ğ° Ğ¿Ğ¾Ğ»ÑƒĞ¾ÑÑ‚Ñ€Ğ¾Ğ²Ğ°]
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ [Ğ“Ñ€Ğ°Ğ´Ğ¸ĞµĞ½Ñ‚Ñ‹: land, sea, mountains]
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ [40+ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ñ‚Ğ¾Ñ‡ĞµĞº]
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ [Ğ“Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ 14 Ñ€Ğ°Ğ¹Ğ¾Ğ½Ğ¾Ğ²]
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ [ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¼Ğ¾Ñ€ĞµĞ¹]
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ [Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ° Ñ Ñ€Ğ°ÑÑˆĞ¸Ñ„Ñ€Ğ¾Ğ²ĞºĞ¾Ğ¹]
â”‚   â”‚   â”‚       â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ DistrictsGrid.tsx
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ [8 ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞµĞº Ñ€Ğ°Ğ¹Ğ¾Ğ½Ğ¾Ğ²]
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ [Ğ¡Ñ‡ĞµÑ‚Ñ‡Ğ¸Ğº Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²]
â”‚   â”‚   â”‚       â”‚
â”‚   â”‚   â”‚       â””â”€â”€ ApplicationForm.tsx
â”‚   â”‚   â”‚           â”œâ”€â”€ [ĞŸĞ¾Ğ»Ğµ: Ğ˜Ğ¼Ñ*]
â”‚   â”‚   â”‚           â”œâ”€â”€ [ĞŸĞ¾Ğ»Ğµ: Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½*]
â”‚   â”‚   â”‚           â”œâ”€â”€ [ĞŸĞ¾Ğ»Ğµ: Ğ“Ğ¾Ñ€Ğ¾Ğ´ (readonly)]
â”‚   â”‚   â”‚           â””â”€â”€ [ĞšĞ½Ğ¾Ğ¿ĞºĞ°: ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ]
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ HomeTab.tsx                # ĞšĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚Ğ¾Ñ€ Ğ²ÑĞµÑ… ÑĞµĞºÑ†Ğ¸Ğ¹
â”‚   â”‚       â””â”€â”€ [Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Hero, Advantages, RSS, Regions]
â”‚   â”‚
â”‚   â””â”€â”€ ui/                            # shadcn/ui ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚       â”œâ”€â”€ button.tsx
â”‚       â”œâ”€â”€ card.tsx
â”‚       â”œâ”€â”€ input.tsx
â”‚       â”œâ”€â”€ icon.tsx
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ services/                          # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
â”‚   â”‚
â”‚   â”œâ”€â”€ metrika-goals.ts               # ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ METRIKA_ID = 105974763
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ MetrikaGoals (ĞºĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ñ‹):
â”‚   â”‚   â”‚   â”œâ”€â”€ APPLICATION_SENT
â”‚   â”‚   â”‚   â”œâ”€â”€ PHONE_CLICK
â”‚   â”‚   â”‚   â”œâ”€â”€ TELEGRAM_CLICK
â”‚   â”‚   â”‚   â”œâ”€â”€ CALCULATOR_USED
â”‚   â”‚   â”‚   â”œâ”€â”€ QUIZ_COMPLETED
â”‚   â”‚   â”‚   â”œâ”€â”€ PROGRAM_VIEWED
â”‚   â”‚   â”‚   â”œâ”€â”€ TAB_CHANGED
â”‚   â”‚   â”‚   â”œâ”€â”€ CITY_SELECTED      [NEW]
â”‚   â”‚   â”‚   â”œâ”€â”€ FORM_SUBMITTED     [NEW]
â”‚   â”‚   â”‚   â”œâ”€â”€ MAP_INTERACTION    [NEW]
â”‚   â”‚   â”‚   â”œâ”€â”€ SEARCH_USED        [NEW]
â”‚   â”‚   â”‚   â””â”€â”€ FILTER_CHANGED     [NEW]
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ reachGoal(goal, params)
â”‚   â”‚   â”‚   â””â”€â”€ window.ym(105974763, 'reachGoal', goal, params)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ñ‚Ñ€ĞµĞºĞ¸Ğ½Ğ³Ğ°:
â”‚   â”‚       â”œâ”€â”€ trackApplicationSent(program, amount)
â”‚   â”‚       â”œâ”€â”€ trackPhoneClick(source)
â”‚   â”‚       â”œâ”€â”€ trackCitySelected(city)
â”‚   â”‚       â”œâ”€â”€ trackFormSubmitted(city, source)
â”‚   â”‚       â”œâ”€â”€ trackSearchUsed(query)
â”‚   â”‚       â””â”€â”€ trackFilterChanged(filter, count)
â”‚   â”‚
â”‚   â””â”€â”€ indexnow.ts                   # Ğ˜Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ Ğ² Ğ¿Ğ¾Ğ¸ÑĞºĞ¾Ğ²Ğ¸ĞºĞ°Ñ…
â”‚
â”œâ”€â”€ data/                             # Ğ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
â”‚   â”‚
â”‚   â””â”€â”€ crimea-cities.ts              # Ğ‘Ğ°Ğ·Ğ° Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ¾Ğ²
â”‚       â””â”€â”€ crimeaCities: [
â”‚           { name, x, y, size, type },  # 40+ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹
â”‚           ...
â”‚       ]
â”‚
â”œâ”€â”€ hooks/                            # Custom React hooks
â”‚   â”œâ”€â”€ useToast.ts
â”‚   â”œâ”€â”€ useDailyTheme.ts
â”‚   â”œâ”€â”€ useAutoIndexNow.ts
â”‚   â””â”€â”€ useSitemapGenerator.ts
â”‚
â”œâ”€â”€ pages/                            # Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”‚   â””â”€â”€ Index.tsx                     # Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°
â”‚       â”œâ”€â”€ [Header Ñ Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸ĞµĞ¹]
â”‚       â”œâ”€â”€ [TabsList Ñ Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ°Ğ¼Ğ¸]
â”‚       â”œâ”€â”€ [MortgageTabsContent]
â”‚       â””â”€â”€ [Footer]
â”‚
â””â”€â”€ utils/                            # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
```

---

## ğŸ”§ Backend Architecture

```
backend/
â”‚
â””â”€â”€ telegram-notification/            # Cloud Function (Python 3.11)
    â”‚
    â”œâ”€â”€ index.py                      # Entry point
    â”‚   â”‚
    â”‚   â”œâ”€â”€ handler(event, context)   # Main function
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€â”€ 1. OPTIONS handling (CORS)
    â”‚   â”‚   â”‚   â””â”€â”€ Return 200 with CORS headers
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€â”€ 2. Parse request body
    â”‚   â”‚   â”‚   â”œâ”€â”€ name = body['name']
    â”‚   â”‚   â”‚   â”œâ”€â”€ phone = body['phone']
    â”‚   â”‚   â”‚   â””â”€â”€ city = body['city']
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€â”€ 3. Get secrets
    â”‚   â”‚   â”‚   â”œâ”€â”€ TELEGRAM_BOT_TOKEN
    â”‚   â”‚   â”‚   â””â”€â”€ TELEGRAM_CHAT_ID (convert to int)
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€â”€ 4. Format message (HTML)
    â”‚   â”‚   â”‚   â””â”€â”€ "ğŸ  <b>ĞĞ¾Ğ²Ğ°Ñ Ğ·Ğ°ÑĞ²ĞºĞ°</b>
    â”‚   â”‚   â”‚       ğŸ“ Ğ“Ğ¾Ñ€Ğ¾Ğ´: {city}
    â”‚   â”‚   â”‚       ğŸ‘¤ Ğ˜Ğ¼Ñ: {name}
    â”‚   â”‚   â”‚       ğŸ“ Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½: <code>{phone}</code>"
    â”‚   â”‚   â”‚
    â”‚   â”‚   â”œâ”€â”€ 5. Send to Telegram
    â”‚   â”‚   â”‚   â””â”€â”€ POST /sendMessage
    â”‚   â”‚   â”‚       â”œâ”€â”€ chat_id (int)
    â”‚   â”‚   â”‚       â”œâ”€â”€ text (HTML)
    â”‚   â”‚   â”‚       â””â”€â”€ parse_mode: 'HTML'
    â”‚   â”‚   â”‚
    â”‚   â”‚   â””â”€â”€ 6. Return response
    â”‚   â”‚       â”œâ”€â”€ Success: { success: true }
    â”‚   â”‚       â””â”€â”€ Error: { error: message }
    â”‚   â”‚
    â”‚   â””â”€â”€ Error handling:
    â”‚       â”œâ”€â”€ HTTPError (Telegram API)
    â”‚       â”œâ”€â”€ URLError (Network)
    â”‚       â””â”€â”€ Generic Exception
    â”‚
    â”œâ”€â”€ tests.json                    # Test cases
    â”‚   â”œâ”€â”€ Test 1: OPTIONS request
    â”‚   â”œâ”€â”€ Test 2: Valid POST
    â”‚   â””â”€â”€ Test 3: Missing fields
    â”‚
    â””â”€â”€ requirements.txt              # Dependencies
        â””â”€â”€ (empty - uses stdlib only)
```

---

## ğŸ“Š ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°: ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Action    â”‚  (ĞºĞ»Ğ¸Ğº, Ğ²Ğ²Ğ¾Ğ´, Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ñ„Ğ¾Ñ€Ğ¼Ñ‹)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Event Handler  â”‚  (onClick, onChange, onSubmit)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Track Function â”‚  trackApplicationSent(), trackCitySelected()
â”‚  (metrika-goals)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  reachGoal()    â”‚  window.ym(105974763, 'reachGoal', goal, params)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Yandex.Metrika  â”‚  Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ
â”‚   (mc.yandex.ru)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dashboard      â”‚  ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
â”‚  (metrika.      â”‚  https://metrika.yandex.ru/dashboard
â”‚   yandex.ru)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ·Ğ°ÑĞ²ĞºĞ¸

```
1. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ²Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Ğ³Ğ¾Ñ€Ğ¾Ğ´ Ğ½Ğ° ĞºĞ°Ñ€Ñ‚Ğµ
   â””â”€â†’ CrimeaMapSVG.tsx: onClick={() => onCityClick(city.name)}
       â””â”€â†’ RegionsMapSection.tsx: handleCityClick(city)
           â”œâ”€â†’ setSelectedCity(city)
           â”œâ”€â†’ setFormData({ ...formData, city })
           â”œâ”€â†’ setShowForm(true)
           â””â”€â†’ trackCitySelected(city)  [ĞœĞ•Ğ¢Ğ Ğ˜ĞšĞ]

2. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ²Ğ¸Ğ´Ğ¸Ñ‚ Ñ„Ğ¾Ñ€Ğ¼Ñƒ
   â””â”€â†’ ApplicationForm.tsx: Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ÑÑ Ñ selectedCity

3. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ Ñ„Ğ¾Ñ€Ğ¼Ñƒ
   â”œâ”€â†’ Ğ’Ğ²Ğ¾Ğ´Ğ¸Ñ‚ Ğ¸Ğ¼Ñ
   â”œâ”€â†’ Ğ’Ğ²Ğ¾Ğ´Ğ¸Ñ‚ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½
   â””â”€â†’ Ğ“Ğ¾Ñ€Ğ¾Ğ´ ÑƒĞ¶Ğµ Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½ (readonly)

4. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ñ„Ğ¾Ñ€Ğ¼Ñƒ
   â””â”€â†’ ApplicationForm.tsx: onSubmit={handleSubmit}
       â””â”€â†’ RegionsMapSection.tsx: handleSubmit(e)
           â”‚
           â”œâ”€â†’ 1. POST Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğº backend
           â”‚   â””â”€â†’ fetch('https://functions.poehali.dev/...')
           â”‚       â””â”€â†’ body: { name, phone, city }
           â”‚
           â”œâ”€â†’ 2. Backend Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°
           â”‚   â””â”€â†’ telegram-notification/index.py
           â”‚       â”œâ”€â†’ Parse body
           â”‚       â”œâ”€â†’ Get secrets
           â”‚       â”œâ”€â†’ Format HTML message
           â”‚       â””â”€â†’ Send to Telegram
           â”‚
           â”œâ”€â†’ 3. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°
           â”‚   â”œâ”€â†’ Success: { success: true }
           â”‚   â””â”€â†’ Error: { error: message }
           â”‚
           â”œâ”€â†’ 4. Ğ¢Ñ€ĞµĞºĞ¸Ğ½Ğ³ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
           â”‚   â”œâ”€â†’ trackApplicationSent('region_map', 0)
           â”‚   â””â”€â†’ trackFormSubmitted(city, 'region_map')  [ĞœĞ•Ğ¢Ğ Ğ˜ĞšĞ]
           â”‚
           â””â”€â†’ 5. ĞĞ±Ñ€Ğ°Ñ‚Ğ½Ğ°Ñ ÑĞ²ÑĞ·ÑŒ
               â”œâ”€â†’ Success: toast("âœ… Ğ—Ğ°ÑĞ²ĞºĞ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ°")
               â”‚           setShowForm(false)
               â”‚           setFormData({ name: '', phone: '', city: '' })
               â”‚
               â””â”€â†’ Error:   toast("âŒ ĞÑˆĞ¸Ğ±ĞºĞ°")

5. Ğ¡Ğ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸ÑÑ‚ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ Ğ² Telegram
   â””â”€â†’ Telegram Bot Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ:
       "ğŸ  ĞĞ¾Ğ²Ğ°Ñ Ğ·Ğ°ÑĞ²ĞºĞ° Ğ½Ğ° Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞºÑƒ
        
        ğŸ“ Ğ“Ğ¾Ñ€Ğ¾Ğ´: Ğ¯Ğ»Ñ‚Ğ°
        ğŸ‘¤ Ğ˜Ğ¼Ñ: Ğ˜Ğ²Ğ°Ğ½ ĞŸĞµÑ‚Ñ€Ğ¾Ğ²
        ğŸ“ Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½: +79781234567  [ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ¿Ğ¾ Ñ‚Ğ°Ğ¿Ñƒ]
        
        ğŸ’¡ ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Ğ½Ğ° Ğ½Ğ¾Ğ¼ĞµÑ€ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ°, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ"
```

---

## ğŸ¨ UI/UX ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### Ğ”Ğ¸Ğ·Ğ°Ğ¹Ğ½ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°

```
Ğ¦Ğ²ĞµÑ‚Ğ°:
â”œâ”€â”€ Primary: Blue (#3b82f6, #2563eb)
â”œâ”€â”€ Secondary: Purple (#8b5cf6, #7c3aed)
â”œâ”€â”€ Success: Green (#10b981, #059669)
â”œâ”€â”€ Warning: Orange (#f59e0b)
â””â”€â”€ Error: Red (#ef4444)

ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ (shadcn/ui):
â”œâ”€â”€ Button (variants: default, outline, ghost)
â”œâ”€â”€ Card (Ñ hover ÑÑ„Ñ„ĞµĞºÑ‚Ğ°Ğ¼Ğ¸)
â”œâ”€â”€ Input (Ñ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸ĞµĞ¹)
â”œâ”€â”€ Icon (Ğ¾Ğ±ĞµÑ€Ñ‚ĞºĞ° Ğ´Ğ»Ñ lucide-react)
â””â”€â”€ Toast (ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ)

ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸:
â”œâ”€â”€ animate-in (Ğ¿Ğ¾ÑĞ²Ğ»ĞµĞ½Ğ¸Ğµ)
â”œâ”€â”€ fade-in (Ğ·Ğ°Ñ‚ÑƒÑ…Ğ°Ğ½Ğ¸Ğµ)
â”œâ”€â”€ slide-in-from-bottom (ÑĞ½Ğ¸Ğ·Ñƒ Ğ²Ğ²ĞµÑ€Ñ…)
â””â”€â”€ animate-pulse (Ğ¿ÑƒĞ»ÑŒÑĞ°Ñ†Ğ¸Ñ)

Responsive:
â”œâ”€â”€ Mobile-first Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´
â”œâ”€â”€ Breakpoints: sm, md, lg, xl
â””â”€â”€ ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ğ°Ñ Ñ‚Ğ¸Ğ¿Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ°
```

---

## ğŸ”’ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### Frontend

```
âœ… TypeScript (type safety)
âœ… Input validation (required fields)
âœ… XSS protection (React escaping)
âœ… HTTPS only
âœ… CSP headers
```

### Backend

```
âœ… CORS configured
âœ… Environment secrets
âœ… Input sanitization
âœ… Error handling
âœ… Rate limiting (Cloud Functions)
```

### Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ

```
âœ… Email Ğ¼Ğ°ÑĞºĞ¸Ñ€ÑƒÑÑ‚ÑÑ Ğ² Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞµ
âœ… Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½Ñ‹ Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°ÑÑ‚ÑÑ Ğ² Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºÑƒ
âœ… ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ² Telegram
âœ… ĞĞµÑ‚ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ğ² Ğ±Ğ°Ğ·Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
```

---

## ğŸ“ˆ Performance

### Frontend Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

```
âœ… Vite (fast bundling)
âœ… Code splitting
âœ… Lazy loading ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
âœ… useMemo Ğ´Ğ»Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸
âœ… Preconnect Ğ´Ğ»Ñ CDN
âœ… DNS prefetch
```

### Backend Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

```
âœ… Serverless (auto-scaling)
âœ… Cold start optimization
âœ… Minimal dependencies
âœ… Async operations
```

---

## ğŸš€ Deployment Pipeline

```
1. Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° (Local)
   â”œâ”€â”€ npm run dev
   â””â”€â”€ localhost:5173

2. Ğ¡Ğ±Ğ¾Ñ€ĞºĞ°
   â”œâ”€â”€ npm run build
   â””â”€â”€ dist/

3. Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ Frontend
   â””â”€â”€ poehali.dev (Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸)

4. Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ Backend
   â””â”€â”€ Cloud Functions (Ñ‡ĞµÑ€ĞµĞ· sync_backend)

5. Production
   â”œâ”€â”€ https://Ğ¸Ğ¿Ğ¾Ñ‚ĞµĞºĞ°ĞºÑ€Ñ‹Ğ¼.Ñ€Ñ„
   â””â”€â”€ https://functions.poehali.dev/...
```

---

## ğŸ“š Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

```
docs/
â”œâ”€â”€ ANALYTICS.md      # Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞµ
â”œâ”€â”€ PUBLIC_API.md     # API Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²
â”œâ”€â”€ PROJECT.md        # ĞĞ±Ñ‰Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â””â”€â”€ ARCHITECTURE.md   # Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ»
```

---

**Ğ’ĞµÑ€ÑĞ¸Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹**: 2.0  
**Ğ”Ğ°Ñ‚Ğ°**: 28 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ 2024  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ**: âœ… Production
